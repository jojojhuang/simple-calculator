import{d as y,o as d,c as f,a as s,n as g,r as J,b as Q,e as U,f as W,s as X,g as Y,m as Z,h as ee,i as te,j as C,k as se,l as M,p as oe,u as r,q as B,t as w,v as h,w as v,F as $,x as j,y as I,z as x,A as re,B as O,C as ae,D as R,E as T,G as ne,H as le,T as ie,I as ce,J as ue,K as de}from"./vendor.8e7fb935.js";const pe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function l(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=l(o);fetch(o.href,n)}};pe();const fe={class:"btn relative cursor-pointer select-none group outline-none text-black group"},ve=s("span",{class:"shadow absolute inset-0 w-full h-full rounded-3xl bg-black/25 will-change-transform transform translate-x-[2px] translate-y-[2px] transition-transform duration-600 btn-in","group-hover":"transform translate-x-[4px] translate-y-[4px] transition-transform duration-250 btn-out","group-active":"transform translate-x-[1px] translate-y-[1px] transition-transform duration-34"},null,-1),_=y({props:{color:{default:"white"}},setup(e){const t=e,l={front:`bg-btn-${t.color} group-active:bg-btn-${t.color}-active text-btn-${t.color}-font`,edge:`bg-btn-${t.color}-shadow`};return(a,o)=>(d(),f("button",fe,[ve,s("span",{class:g(["absolute inset-0 w-full h-full rounded-3xl",l.edge])},null,2),s("span",{class:g(["front relative block w-full h-full rounded-3xl text-4xl font-viga flex justify-center items-center will-change-transform transform -translate-x-[4px] -translate-y-[4px] transition-transform duration-600 btn-in",l.front]),"group-hover":"transform -translate-x-[6px] -translate-y-[6px] transition-transform duration-250 btn-out","group-active":"transform -translate-x-[3px] -translate-y-[3px] transition-transform duration-34"},[J(a.$slots,"default")],2)]))}}),H=["0","1","2","3","4","5","6","7","8","9",".","%"],L=["\xF7","\xD7","+","-"],he=e=>t=>e.includes(t),S=e=>e.at(-1)||"",_e=he(L),A=e=>_e(S(e)),{evaluate:me,format:xe}=Q({evaluateDependencies:U,addDependencies:W,subtractDependencies:X,divideDependencies:Y,multiplyDependencies:Z,formatDependencies:ee}),we=e=>xe(me(e),{upperExp:6,precision:10}),N=te("calculate",()=>{const e=C("0"),t=C("0"),l=C(!1),a=se([]);let o=0,n=!1,c=!1;const D=()=>{if(!e.value||c)return;A(e.value)&&(e.value=e.value.slice(0,e.value.length-1));let u=e.value;u=u.replaceAll("\xD7","*"),u=u.replaceAll("\xF7","/");try{if(t.value=`${we(u)}`,t.value.includes("Infinity"))throw new Error("");z(e.value,t.value)}catch{t.value="0",l.value=!0}finally{c=!0}},p=u=>{if(u==="."||u==="%"){if(n)return;n=!0}c&&k(),c=!1;const b=S(e.value);if(u!=="."&&b==="0"&&e.value.length===1){e.value=`${u}`;return}e.value+=`${u}`},i=u=>{const b=S(e.value);if(u==="-"&&e.value.length===1&&b==="0"){e.value="-";return}n&&(n=!1),c&&(e.value=t.value),A(e.value)&&m(),c=!1,e.value+=`${u}`},m=()=>{e.value.length===1?e.value="0":e.value=e.value.slice(0,e.value.length-1),c=!1},k=()=>{e.value="0",t.value="0",l.value=!1,n=!1,c=!1},z=(u,b)=>{a.push({id:o++,expression:u,ans:b})},P=u=>{a.splice(u,1)},G=()=>{a.splice(0,a.length)},K=u=>{k(),e.value=a[u].expression,t.value=a[u].ans,c=!0};return{expression:M(e),ans:M(t),error:M(l),history:M(a),addDigit:p,addOperator:i,eraseLast:m,cacluteResult:D,clear:k,removeHistory:P,clearHistory:G,assignFromHistory:K}});var q=(e,t)=>{const l=e.__vccOpts||e;for(const[a,o]of t)l[a]=o;return l};const ge={class:"screen relative rounded-3xl bg-[#1e2129]"},be={key:0,class:"w-3 h-[2px] absolute left-auto top-auto bottom-1/15 right-5 bg-white animate-pulse"},ye={key:0,class:"select-none whitespace-pre pr-5 text-white text-7xl font-teko"},ke={key:1,class:"text-red-500 text-6xl place-self-center font-teko select-none","data-test":"error"},Ce={key:2,class:"select-none whitespace-pre pr-9 text-white/40 text-4xl font-teko","data-test":"text"},$e=y({setup(e){const{expression:t,ans:l,error:a}=oe(N());return(o,n)=>(d(),f("div",ge,[r(a)?B("",!0):(d(),f("i",be)),s("div",{class:g(["overflow-hidden text-right h-full flex flex-col items-end",[r(a)?"justify-center":"justify-end"]])},[r(a)?(d(),f("span",ke," Invalid expression ")):(d(),f("span",ye,w(r(l)),1)),r(a)?B("",!0):(d(),f("span",Ce,w(r(t)),1))],2)]))}});var je=q($e,[["__scopeId","data-v-bba3d756"]]);const Ie={class:"cacl relative w-full max-w-[450px] grid grid-cols-4 gap-4 bg-gradient-to-br from-[#b8bfcc] via-[#8d99ae] to-[#6a7383] grid-flow-row-dense p-5 rounded-3xl"},De=s("i",{class:"block bg-btn-blue w-10 h-2"},null,-1),Me=s("i",{class:"block bg-btn-red w-10 h-2 my-1"},null,-1),He=s("i",{class:"block bg-btn-blue w-10 h-2"},null,-1),Se=[De,Me,He],Ne=x("AC"),qe=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z"})],-1),Be=x("%"),Oe=x(" 0 "),Re=x(" . "),Te=x(" = "),Le=y({emits:["toggle"],setup(e,{emit:t}){const{addDigit:l,addOperator:a,eraseLast:o,cacluteResult:n,clear:c}=N();return(D,p)=>(d(),f("div",Ie,[s("div",{class:"absolute decoration transform bottom-1 left-3/5 rotate-90 md:rotate-0 md:bottom-auto md:left-auto md:top-19 md:right-0 cursor-pointer",onClick:p[0]||(p[0]=i=>t("toggle"))},Se),h(je,{class:"aspect-8/3 col-span-4 m-2"}),h(_,{class:"aspect-square",color:"red",onClick:r(c)},{default:v(()=>[Ne]),_:1},8,["onClick"]),h(_,{class:"aspect-square",color:"yellow",onClick:r(o)},{default:v(()=>[qe]),_:1},8,["onClick"]),h(_,{class:"aspect-square",color:"blue",onClick:p[1]||(p[1]=i=>r(l)("%"))},{default:v(()=>[Be]),_:1}),(d(!0),f($,null,j(r(L),i=>(d(),I(_,{color:"blue",class:"aspect-square col-start-4",onClick:m=>r(a)(i)},{default:v(()=>[x(w(i),1)]),_:2},1032,["onClick"]))),256)),(d(!0),f($,null,j(r(H).slice(7,10),i=>(d(),I(_,{class:"aspect-square",onClick:m=>r(l)(i)},{default:v(()=>[x(w(i),1)]),_:2},1032,["onClick"]))),256)),(d(!0),f($,null,j(r(H).slice(4,7),i=>(d(),I(_,{class:"aspect-square",onClick:m=>r(l)(i)},{default:v(()=>[x(w(i),1)]),_:2},1032,["onClick"]))),256)),(d(!0),f($,null,j(r(H).slice(1,4),i=>(d(),I(_,{class:"aspect-square",onClick:m=>r(l)(i)},{default:v(()=>[x(w(i),1)]),_:2},1032,["onClick"]))),256)),h(_,{class:"aspect-square",onClick:p[2]||(p[2]=i=>r(l)("0"))},{default:v(()=>[Oe]),_:1}),h(_,{class:"aspect-square",onClick:p[3]||(p[3]=i=>r(l)("."))},{default:v(()=>[Re]),_:1}),h(_,{class:"aspect-272/125 col-span-2",onClick:r(n)},{default:v(()=>[Te]),_:1},8,["onClick"])]))}});const E=e=>(R("data-v-a455cbce"),e=e(),T(),e),Ae={class:"relative w-full text-white font-teko flex flex-col justify-end select-none rounded-2xl hover:bg-black/20 px-4 py-1 group"},Ee={class:"expr text-3xl text-right"},Ve={class:"ans text-5xl text-right"},Fe={class:"absolute group-hover:flex ml-6 justify-start items-center h-full w-full gap-2 hidden"},ze=E(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 stroke-white/40 active:stroke-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 11l7-7 7 7M5 19l7-7 7 7"})],-1)),Pe=[ze],Ge=E(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 stroke-white/40 active:stroke-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),Ke=[Ge],Je=["d"],Qe=y({props:{ans:null,expression:null},emits:["remove","toCalc"],setup(e,{emit:t}){const l=e,{isSupported:a,copy:o}=re();O("clipboard-read"),O("clipboard-write");const n=ae(!1,1e3),c=()=>{!a||(o(l.ans),n.value=!0)};return(D,p)=>(d(),f("div",Ae,[s("div",Ee,w(e.expression),1),s("div",Ve,w(e.ans),1),s("div",Fe,[s("button",{class:"rounded-full w-12 h-12 hover:bg-white/10 border-2 border-white/20 active:border-white flex justify-center items-center md:transform md:-rotate-90",onClick:p[0]||(p[0]=i=>t("toCalc"))},Pe),s("button",{class:"rounded-full w-12 h-12 hover:bg-white/10 border-2 border-white/20 active:border-white flex justify-center items-center",onClick:p[1]||(p[1]=i=>t("remove"))},Ke),s("button",{class:g(["rounded-full w-12 h-12 hover:bg-white/10 border-2 border-white/20 flex justify-center items-center",{"border-white":r(n)}]),onClick:c},[(d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",class:g(["h-8 w-8 stroke-white/40",{"stroke-white transition-colors duration-75":r(n)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r(n)?"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4":"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},null,8,Je)],2))],2)])]))}});var Ue=q(Qe,[["__scopeId","data-v-a455cbce"]]);const V=e=>(R("data-v-71e7d43c"),e=e(),T(),e),We={class:"aspect-3/5 relative w-full max-w-[450px] bg-gradient-to-r from-btn-blue-shadow via-btn-blue to-btn-blue-shadow rounded-3xl px-6 pt-36 pb-8 md:py-10"},Xe={class:"absolute top-27 left-10 md:top-auto md:bottom-2 md:left-15 flex items-center gap-2"},Ye=V(()=>s("a",{class:"text-white/10 hover:text-white",href:"https://github.com/jojojhuang/simple-calculator"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 24 24"},[s("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1)),Ze=V(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 13h6M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})],-1)),et=[Ze],tt=y({setup(e){const t=N(),{removeHistory:l,assignFromHistory:a,clearHistory:o}=t,n=ne(()=>t.history.length===0),c=C();return le(t.history,async()=>{await ce(),c.value&&(c.value.scrollTop=c.value.scrollHeight)}),(D,p)=>(d(),f("div",We,[s("div",{class:"aspect-3/5 w-full max-h-full flex flex-col justify-start items-center gap-1 overflow-y-auto no-scrollbar",ref_key:"itemContainerRef",ref:c},[h(ie,{name:"slide-fade"},{default:v(()=>[(d(!0),f($,null,j(r(t).history,(i,m)=>(d(),I(Ue,{ans:i.ans,expression:i.expression,key:i.id,onToCalc:k=>r(a)(m),onRemove:k=>r(l)(m)},null,8,["ans","expression","onToCalc","onRemove"]))),128))]),_:1})],512),s("div",Xe,[Ye,s("button",{title:"\u522A\u9664\u5168\u90E8",class:g(["transition-colors",[r(n)?"text-white/10 cursor-default":"text-white"]]),onClick:p[0]||(p[0]=(...i)=>r(o)&&r(o)(...i))},et,2)])]))}});var st=q(tt,[["__scopeId","data-v-71e7d43c"]]);const ot={class:"min-h-screen bg-cool-gray-800 flex justify-center items-center overflow-hidden"},rt={class:"w-full max-w-[900px] grid grid-rows-2 md:grid-cols-2 md:grid-rows-1 transition-transform"},at=y({setup(e){const t=C(!0);return(l,a)=>(d(),f("div",ot,[s("div",rt,[h(Le,{class:"z-1 mx-auto",onToggle:a[0]||(a[0]=o=>t.value=!t.value)}),h(st,{class:g(["mx-auto transform transition-transform",[t.value?"-translate-y-[97%] md:translate-y-0 md:-translate-x-[95%]":"-translate-y-25 md:translate-y-0 md:-translate-x-10"]])},null,8,["class"])])]))}});const F=ue(at);F.use(de());F.mount("#app");
